# GraphQL schema example
#
# https://gqlgen.com/getting-started/

type ChartEntry{
  date: Time!
  category: String!
  value: Float!
}

type Payment {
  id: Int!
	date: Time!
	value: Float!
	expenseID: Int!
}

type Income {
  date:  Time
  value: Float

  # from paperless
  paperlessInt:   Int!
  correspondent: Int!
  title:         String!
  content:       String!
  tags:          [Int!]!
  created_date:  Time!
}

type Expense {
  date:  Time
  value: Float

  # from paperless
  paperlessID:   Int!
  correspondent: Int!
  title:         String!
  content:       String!
  tags:          [Int!]!
  created_date:  Time!
}


type Query {
  getIncomes: [Income!]!
  getExpenses: [Expense!]!
  getPayments: [Payment!]!
  getExpensesBetween(from: String!, to: String!): [ChartEntry!]!

  getIncome(id: Int!): Income!
  getExpense(id: Int!): Expense!
  getPayment(id: Int!): Payment!
}

input NewPayment {
	date: Time!
	value: Float!
	expenseId: Int!
}

input UpdatePayment {
  id: Int!
	date: Time
	value: Float
	expenseId: Int
}

input UpdateExpense {
  date:  Time
  value: Float

  # from paperless
  paperlessID:   Int!
}

input UpdateIncome {
  date:  Time
  value: Float

  # from paperless
  paperlessID:   Int!
}

type Mutation {
  createPayment(input: NewPayment!): Payment!
  updatePayment(input: UpdatePayment!): Payment!
  deletePayment(id: Int!): Payment!

  updateExpense(input: UpdateExpense!): Expense!
  updateIncome(input: UpdateIncome!): Income!
}

scalar Time